<main>
    <div class="container body-content" id="bg">
        <h1><th:block th:text="${category.name}"></th:block></h1>
        <div class="row">
            <div class="col-md-10">
                <th:block th:each="article : ${articles}">
                    <div id="text-break">
                        <article>
                            <header>
                                <h2 th:text="${article.title}"></h2>
                            </header>

                            <img id="profile-pic" th:if="${article.articlePicture}!=''" th:src="@{'data:image/jpeg;base64,'+${article.articlePicture}}"/>

                            <p class="white-space-pre" th:text="${article.summary}"></p>

                            <small class="author" th:text="${article.authorName}"></small>

                            <p>
                                <a class="btn btn-warning btn-xs" th:each="tag:${article.tags}" th:if="${tag.name}!=''" th:href="@{/tag/{name}(name=${tag.name})}" th:text="${tag.name}"></a>
                            </p>

                            <footer>
                                <div >
                                    <a style="float: right;" class="btn btn-danger btn-xs"
                                       th:href="@{/article/{id}(id=${article.id})}">Read more &raquo;</a>
                                    <br/>
                                </div>
                            </footer>
                        </article>
                    </div>
                </th:block>
            </div>
            <div class="col-md-2 category-box">
                <h4>Categories</h4>
                <div th:each="category : ${categories}">
                    <header>
                        <p>
                            <a th:href="@{/category/{id}(id=${category.id})}" th:text="${category.name + ' (' + #sets.size(category.articles) + ')'}">
                            </a>
                        </p>
                    </header>
                </div>
            </div>
        </div>
    </div>
</main>
